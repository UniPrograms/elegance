<div class="product-admin-flexbox" style="display:flex; gap:2rem; align-items:stretch;">
  <div class="user-profile" style="flex:1; min-width:340px; max-width:700px; min-height:540px; display:flex; flex-direction:column; justify-content:flex-start;">
    <div class="header" style="display: flex; align-items: flex-start;">
      <div style="flex:1; text-align:left;">
        <h2 style="margin:0; font-size:1.4em; font-weight:600;"><[product_title::strformatter type="title" library="utility"]> <[product_id::idformatter library="utility"]></h2>
      </div>
    </div>
    <ul class="info-list">
      <li style="display: none;"><span class="label">ID:</span> <input type="text" id="product-id" value="<[product_id]>" readonly /></li>
      <li><span class="label">Nome:</span> <input type="text" id="product-name-input" value="<[product_name::strformatter type="title" library="utility"]>" /></li>
      <li><span class="label">Prezzo:</span> <input type="text" id="product-price" value="<[product_price]>" /></li>
      <li><span class="label">Descrizione:</span> <textarea id="product-description" rows="3"><[product_description]></textarea></li>
      <li style="display: flex; align-items: center;">
        <span class="label" style="flex:1;">Carica Immagine:</span>
        <div style="flex:2; display:flex; gap:0.5rem; align-items:center;">
          <input type="text" id="cover-img-file-path" readonly class="input-file-path-align info-input-align" style="margin:-6;" />
          <input type="file" id="product-cover-img-file" accept="image/*" style="display:none;">
          <button type="button" class="choose-file-btn" id="choose-cover-img-btn">Scegli il file</button>
        </div>
      </li>
      <li><span class="label">Brand:</span>
        <select id="product-brand-input" name="product-brand">
          <[foreach]>
          <option value="<[brand_id]>" <[brand_selected]>><[brand_name::strformatter type="title" library="utility"]></option>
          <[/foreach]>
        </select>
      </li>
      <li><span class="label">Categoria:</span>
        <select id="product-category" name="product-category">
          <[foreach]>
          <option value="<[category_id]>" <[category_selected]>><[category_name::strformatter type="title" library="utility"]></option>
          <[/foreach]>
        </select>
      </li>
      <li><span class="label">Sesso:</span>
        <select id="product-gender" name="product-gender">
          <[foreach]>
          <option value="<[sex_id]>" <[sex_selected]>><[sex_name::strformatter type="title" library="utility"]></option>
          <[/foreach]>
        </select>
      </li>
      <li class="last-element info-list-actions">
        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
          <button class="add-article-button" id="admin-go-to-article" value= <[product_value]> type="button">View Articles</button>
          <button class="save-button" id="admin-update-product">Save</button>
        </div>
      </li>
    </ul>
  </div>
  <div class="product-image-panel" style="flex:1; min-width:340px; max-width:700px; min-height:540px; display:flex; flex-direction:column; align-items:center; justify-content:flex-start; background:#fff; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,0.07); padding:2rem 2rem 1.5rem 2rem; border:1px solid #e0e0e0;">
    <div style="width:100%; display:grid; grid-template-columns:repeat(3,1fr); grid-template-rows:repeat(2,1fr); gap:1.5rem; align-items:center; justify-items:center; flex:1;">
      <!-- ESEMPIO: Sostituisci con ciclo PHP per immagini già esistenti -->
      <!--
      <div class="img-placeholder-upload" style="width:120px; aspect-ratio:9/16; background:#e0e0e0; border-radius:10px; border:2px dashed #bbb; position:relative; display:flex; align-items:center; justify-content:center;">
        <div class="img-uploaded-wrapper" style="position:relative; display:inline-block;">
          <img src="PERCORSO/ALL/IMMAGINE.jpg" data-img-path="PERCORSO/ALL/IMMAGINE.jpg" style="width:120px; height:213px; object-fit:cover; border-radius:10px; display:block; border:2px solid #bbb; position:relative;">
          <button class="delete-img-btn" title="Rimuovi immagine" style="position:absolute; top:6px; right:6px; background:rgba(220,53,69,0.92); color:#fff; border:none; border-radius:50%; width:28px; height:28px; font-size:1.2em; cursor:pointer; z-index:2; display:flex; align-items:center; justify-content:center;">✖</button>
        </div>
      </div>
      -->
      <!-- Placeholder vuoto (default) -->
      <div class="img-placeholder-upload" style="width:120px; aspect-ratio:9/16; background:#e0e0e0; border-radius:10px; border:2px dashed #bbb; position:relative; display:flex; align-items:center; justify-content:center;">
        <button class="add-img-btn" style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:2.5em; background:none; border:none; color:#888; cursor:pointer;">+</button>
      </div>
      <div class="img-placeholder-upload" style="width:120px; aspect-ratio:9/16; background:#e0e0e0; border-radius:10px; border:2px dashed #bbb; position:relative; display:flex; align-items:center; justify-content:center;">
        <button class="add-img-btn" style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:2.5em; background:none; border:none; color:#888; cursor:pointer;">+</button>
      </div>
      <div class="img-placeholder-upload" style="width:120px; aspect-ratio:9/16; background:#e0e0e0; border-radius:10px; border:2px dashed #bbb; position:relative; display:flex; align-items:center; justify-content:center;">
        <button class="add-img-btn" style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:2.5em; background:none; border:none; color:#888; cursor:pointer;">+</button>
      </div>
      <div class="img-placeholder-upload" style="width:120px; aspect-ratio:9/16; background:#e0e0e0; border-radius:10px; border:2px dashed #bbb; position:relative; display:flex; align-items:center; justify-content:center;">
        <button class="add-img-btn" style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:2.5em; background:none; border:none; color:#888; cursor:pointer;">+</button>
      </div>
      <div class="img-placeholder-upload" style="width:120px; aspect-ratio:9/16; background:#e0e0e0; border-radius:10px; border:2px dashed #bbb; position:relative; display:flex; align-items:center; justify-content:center;">
        <button class="add-img-btn" style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:2.5em; background:none; border:none; color:#888; cursor:pointer;">+</button>
      </div>
      <div class="img-placeholder-upload" style="width:120px; aspect-ratio:9/16; background:#e0e0e0; border-radius:10px; border:2px dashed #bbb; position:relative; display:flex; align-items:center; justify-content:center;">
        <button class="add-img-btn" style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:2.5em; background:none; border:none; color:#888; cursor:pointer;">+</button>
      </div>
    </div>
    <input type="file" id="product-images-input" accept="image/*" multiple style="display:none;" />
    <!-- bottone rimosso: <button class="edit-image-button" id="admin-add-product-images" type="button">Aggiungi foto prodotto</button> -->
  </div>
</div>
<!-- JS inclusi per funzionalità admin -->
<script src="js/jquery/jquery-2.2.4.min.js"></script>
<script src="js/myjs_admin.js"></script>